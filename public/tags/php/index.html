<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Php | TIL by Sakydev</title>
<meta name=keywords content><meta name=description content="Things I learned today by Sakydev"><meta name=author content="Saqib Razzaq"><link rel=canonical href=https://examplesite.com/tags/php/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.f49d66caae9ea0fd43f21f29e71a8d3e284517ed770f2aa86fa012953ad3c9ef.css integrity="sha256-9J1myq6eoP1D8h8p5xqNPihFF+13Dyqob6ASlTrTye8=" rel="preload stylesheet" as=style><link rel=icon href=https://examplesite.com/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=https://examplesite.com/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://examplesite.com/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://examplesite.com/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://examplesite.com/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://examplesite.com/tags/php/index.xml><link rel=alternate hreflang=en href=https://examplesite.com/tags/php/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://examplesite.com/tags/php/"><meta property="og:site_name" content="TIL by Sakydev"><meta property="og:title" content="Php"><meta property="og:description" content="Things I learned today by Sakydev"><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:image" content="https://examplesite.com/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://examplesite.com/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="Php"><meta name=twitter:description content="Things I learned today by Sakydev"></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://examplesite.com/ accesskey=h title="Today I Learned (Alt + H)"><img src=https://examplesite.com/apple-touch-icon.png alt aria-label=logo height=35>Today I Learned</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://examplesite.com/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://examplesite.com/archives/ title=Archives><span>Archives</span></a></li><li><a href=http://github.com/sakydev/til title=Github><span>Github</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://examplesite.com/>Home</a>&nbsp;»&nbsp;<a href=https://examplesite.com/tags/>Tags</a></div><h1>Php
<a href=/tags/php/index.xml title=RSS aria-label=RSS><svg viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" height="23"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a></h1></header><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>How to setup token API auth with Sanctum in Laravel</h2></header><div class=entry-content><p>Read about Laravel Sanctum
Create your laravel project
composer create-project --prefer-dist laravel/laravel my-laravel-blog-api Move into project directory and then install Sanctum
composer require laravel/sanctum Now let’s publish migrations and configuration files
php artisan vendor:publish --provider="Laravel\Sanctum\SanctumServiceProvider" Run database migrations
php artisan migrate Make sure your User model looks like this use Laravel\Sanctum\HasApiTokens; class User extends Authenticatable { use HasApiTokens, HasFactory, Notifiable; } Make an authentication / user controller. Let’s use AuthenticationController for this php artisan make:controller AuthenticationController Then add following code in this controller se Illuminate\Support\Facades\Hash; public function register(Request $request) { $validatedData = $request->validate([ 'name' => 'required|string|max:255', 'email' => 'required|string|email|max:255|unique:users', 'password' => 'required|string|min:8', ]); $user = User::create([ 'name' => $validatedData['name'], 'email' => $validatedData['email'], 'password' => Hash::make($validatedData['password']), ]); $token = $user->createToken('auth_token')->plainTextToken; return response()->json([ 'access_token' => $token, 'token_type' => 'Bearer', ]); } First, we validate the incoming request to make sure all required variables are present. Then we persist the supplied details into the database. Once a user has been created, we create a new personal access token for them using the createToken() method and give the token a name of auth_token. Because createToken() will return an instance of Laravel\Sanctum\NewAccessToken, we call the plainTextTokenproperty on the instance to access the plain-text value of the token. Finally, we return a JSON response containing the generated token as well as the type of the token. Then add login method to your controller. It should look like this use App\Models\User; use Illuminate\Support\Facades\Auth; public function login(Request $request) { if (!Auth::attempt($request->only('email', 'password'))) { return response()->json([ 'message' => 'Invalid login details' ], 401); } $user = User::where('email', $request['email'])->firstOrFail(); $token = $user->createToken('auth_token')->plainTextToken; return response()->json([ 'access_token' => $token, 'token_type' => 'Bearer', ]); } Add following two routes to allow registrations and login Route::post('/register', [AuthController::class, 'register']); Route::post('/login', [AuthController::class, 'login']);</p></div><footer class=entry-footer><span title='2021-11-03 00:00:00 +0000 UTC'>November 3, 2021</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;287 words&nbsp;·&nbsp;Saqib Razzaq</footer><a class=entry-link aria-label="post link to How to setup token API auth with Sanctum in Laravel" href=https://examplesite.com/posts/setup-token-api-auth-with-sanctum-in-laravel/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>How to test Registration and Login in Laravel</h2></header><div class=entry-content><p>I often work with Laravel APIs that require user registration and authentication. Of course, there is no stability in building applications without unit tests. Hence, I create following tests to ensure registration and login functions are working as expected.
TestRegister.php Run php artisan make:test TestRegister Go to tests\Feature and open TestRegister.php Use following test to make sure user registrations are working. Of course, this is a minimal example. But this should give you a good idea of how you can get started. public function testsRegistration() { $payload = [ 'name' => 'Jenny', 'email' => 'jenny@test.com', 'password' => 'password', 'level' => '5', ]; $this->json('post', '/api/register', $payload) ->assertStatus(201) ->assertJsonStructure([ 'data' => [ 'access_token', 'token_type', ], ]);; } You’ll need to ajdust $payload variables according to what your API’s register endpoint expects. You’ll also need to adjust assertJsonStructure values based on what you are sending back as response.
...</p></div><footer class=entry-footer><span title='2021-11-02 00:00:00 +0000 UTC'>November 2, 2021</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;292 words&nbsp;·&nbsp;Saqib Razzaq</footer><a class=entry-link aria-label="post link to How to test Registration and Login in Laravel" href=https://examplesite.com/posts/test-registration-and-login-in-laravel/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Laravel - manually handle HTTP exceptions</h2></header><div class=entry-content><p>Laravel automatically handles HTTP exceptions and throws errors / redirects as it sees fit. Sometimes, this isn’t an ideal behaviour. I was building an API and wanted to display custom messages for missing routes, forbidden and other errors. This can be done like this
Open app\Exceptions\Handler.php If you want to handle missing models, paste following snippet in render method if ($exception instanceof ModelNotFoundException) { return response()->json([ 'error' => 'Model not found' ], 404); } If you’d like to handle other HTTP exceptions, paste the following snippet instead if ($this->isHttpException($exception)) { switch ($exception->getStatusCode()) { // not authorized case '403': return \Response::json([ 'error' => 'You are not allowed to access this' ], 403); break; // not found case '404': return \Response::json([ 'error' => 'Resource not found' ], 404); break; // internal error case '500': return \Response::json([ 'error' => 'Something went terribly wrong' ], 500); break; default: return $this->renderHttpException($exception); break; } }</p></div><footer class=entry-footer><span title='2021-11-02 00:00:00 +0000 UTC'>November 2, 2021</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;149 words&nbsp;·&nbsp;Saqib Razzaq</footer><a class=entry-link aria-label="post link to Laravel - manually handle HTTP exceptions" href=https://examplesite.com/posts/laravel-manually-handle-http-exceptions/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>How to create a user by default in Laravel</h2></header><div class=entry-content><p>Sure, we can user Laravel’s database seeding and $faker to create any number of fake users. Personally, I don’t like to waste time fetching a new random user and their email address to continue my testing. I like have the same user created each time database is seeded. I do it like this.
Run below command to create a new seeder in database/seeds directory.
php artisan make:seeder UserSeeder In run method of UserSeeder.php paste following code $user = User::create([ 'name' => 'Saqib', 'email' => 'saqib@saqib.com', 'password' => Hash::make('password'), 'level' => 1 ]); Finally, add below line in run method in seeds\DatabaseSeeder.php $this->call(UserSeeder::class);
...</p></div><footer class=entry-footer><span title='2021-10-21 00:00:00 +0000 UTC'>October 21, 2021</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;125 words&nbsp;·&nbsp;Saqib Razzaq</footer><a class=entry-link aria-label="post link to How to create a user by default in Laravel" href=https://examplesite.com/posts/create-a-user-by-default-in-laravel/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>How to create and use Seeders in Laravel</h2></header><div class=entry-content><p>Create a seeder php artisan make:seeder seederName This creates a file seederName in database/seeds You can use a model or default database class. I’ll show you both examples To use an existing model, try this approach // assumes you've already added "use App\User" and "use Illuminate\Support\Facades\Hash;" at top of your file $user = User::create([ 'name' => 'Saqib', 'email' => 'saqib@saqib.com', 'password' => Hash::make('password'), 'level' => 1 ]); If you don’t have a model and want to run database inserts, try something like this DB::table('users')->insert([ 'name' => 'Jon Snow', 'email' => 'saqib@test.com', 'password' => Hash::make('password') ]); Run php artisan db:seed or php artisan migrate:fresh --seed to run seeders</p></div><footer class=entry-footer><span title='2021-10-17 00:00:00 +0000 UTC'>October 17, 2021</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;107 words&nbsp;·&nbsp;Saqib Razzaq</footer><a class=entry-link aria-label="post link to How to create and use Seeders in Laravel" href=https://examplesite.com/posts/create-and-use-seeders-in-laravel/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>The common Laravel template structure</h2></header><div class=entry-content><p>First, create a file that defines the structure of your page
layout.blade.php
@include('includes.header')
@yield('content')
@include('includes.footer') Then create files that yield content
index.blade.php
@extends('common_template')
@section('content')
{{$data['title']}}
@endsection</p></div><footer class=entry-footer><span title='2021-10-17 00:00:00 +0000 UTC'>October 17, 2021</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;26 words&nbsp;·&nbsp;Saqib Razzaq</footer><a class=entry-link aria-label="post link to The common Laravel template structure" href=https://examplesite.com/posts/common-laravel-template-structure/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Laravel - create a user by default</h2></header><div class=entry-content><p>Sure, we can user Laravel’s database seeding and $faker to create any number of fake users. Personally, I don’t like to waste time fetching a new random user and their email address to continue my testing. I like have the same user created each time database is seeded. I do it like this.
Run below command to create a new seeder in database/seeds directory. php artisan make:seeder UserSeeder In run method of UserSeeder.php paste following code $user = User::create([ 'name' => 'Saqib', 'email' => 'saqib@saqib.com', 'password' => Hash::make('password'), 'level' => 1 ]); Finally, add below line in run method in seeds\DatabaseSeeder.php $this->call(UserSeeder::class);
...</p></div><footer class=entry-footer><span title='2021-09-17 00:00:00 +0000 UTC'>September 17, 2021</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;125 words&nbsp;·&nbsp;Saqib Razzaq</footer><a class=entry-link aria-label="post link to Laravel - create a user by default" href=https://examplesite.com/posts/laravel-create-a-user-by-default/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>How to modify Laravel 'HOME' redirection path</h2></header><div class=entry-content><p>When a user logs in, Laravel redirects it to path stored in HOME constant by default. If you want to modify this constant or add constants of your own, you can do it like this.
Open app\Providers\RouteServiceProvider.php Search public const HOME to update HOME constant You can add your own just like that</p></div><footer class=entry-footer><span title='2021-08-19 00:00:00 +0000 UTC'>August 19, 2021</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;53 words&nbsp;·&nbsp;Saqib Razzaq</footer><a class=entry-link aria-label="post link to How to modify Laravel 'HOME' redirection path" href=https://examplesite.com/posts/modify-laravel-home-redirection-path/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Laravel - common template structure</h2></header><div class=entry-content><p>First, create a file that defines the structure of your page
layout.blade.php
@include('includes.header') @yield('content') @include('includes.footer') Then create files that yield content
index.blade.php
@extends('common_template') @section('content') {{$data['title']}} @endsection</p></div><footer class=entry-footer><span title='2021-08-19 00:00:00 +0000 UTC'>August 19, 2021</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;26 words&nbsp;·&nbsp;Saqib Razzaq</footer><a class=entry-link aria-label="post link to Laravel - common template structure" href=https://examplesite.com/posts/laravel-common-laravel-template-structure/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>How to count total weekends between two dates in PHP</h2></header><div class=entry-content><p>function compare($startDate, $endDate) { $weekends = 0; $startDate = new DateTime($startDate); $endDate = new DateTime($endDate); while($startDate &lt;= $endDate ) { $timestamp = strtotime($startDate->format('d-m-Y')); $currentDay = strtolower(date('D', $timestamp)); if (!$weekends && $currentDay == 'sun') { $weekends += 1; } elseif ($currentDay == 'sat') { $weekends += 1; } $startDate->modify('+1 day'); } return $weekends; }</p></div><footer class=entry-footer><span title='2021-04-12 00:00:00 +0000 UTC'>April 12, 2021</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;53 words&nbsp;·&nbsp;Saqib Razzaq</footer><a class=entry-link aria-label="post link to How to count total weekends between two dates in PHP" href=https://examplesite.com/posts/find-total-weekends-between-two-dates-in-php/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Bootstrap Auth Scaffholding in Laravel</h2></header><div class=entry-content><p>If Laravel is not installed, first run
composer create-project laravel/laravel composer require laravel/ui php artisan ui bootstrap --auth</p></div><footer class=entry-footer><span title='2021-03-17 00:00:00 +0000 UTC'>March 17, 2021</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;18 words&nbsp;·&nbsp;Saqib Razzaq</footer><a class=entry-link aria-label="post link to Bootstrap Auth Scaffholding in Laravel" href=https://examplesite.com/posts/laravel---bootstrap-auth-scaffholding/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>How to add a user middleware in Laravel</h2></header><div class=entry-content><p>I was building an API. I had already used auth:api middleware. I was sure that a user was logged in. However, I wanted to protect some of my routes further by only allowing an admin to access them. I was using level field in users table. A level 1 meant it was an admin. Hence, I created an Admin middleware to do what I had in mind. Here is how it can be done.
...</p></div><footer class=entry-footer><span title='2021-03-17 00:00:00 +0000 UTC'>March 17, 2021</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;153 words&nbsp;·&nbsp;Saqib Razzaq</footer><a class=entry-link aria-label="post link to How to add a user middleware in Laravel" href=https://examplesite.com/posts/add-a-user-middleware-in-laravel/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>How to add helper files in Laravel</h2></header><div class=entry-content><p>There are some cases when you need to add your own custom functions in Laravel. I often have my own custom helpers for speeding up development. You can easily add your own files by following this quick guide.
Create a folder in app\Http folder. Let’s assume you created Helpers You can place any number of php files in this directory. Then open composer.json found in your root directory and find "autoload-dev": { "psr-4": { "Tests\\": "tests/" } } Then replace it so it looks like this "autoload-dev": { "psr-4": { "Tests\\": "tests/" }, "files": [ "app/Helpers/filename.php" ] } Finally, run composer dump-autoload and you are good to go</p></div><footer class=entry-footer><span title='2021-03-17 00:00:00 +0000 UTC'>March 17, 2021</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;108 words&nbsp;·&nbsp;Saqib Razzaq</footer><a class=entry-link aria-label="post link to How to add helper files in Laravel" href=https://examplesite.com/posts/add-helper-files-in-laravel/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>How to create model, controller and migration in same command</h2></header><div class=entry-content><p>Follow command can be used to create all three in one line
php artisan make:model Modelname -mcr</p></div><footer class=entry-footer><span title='2021-03-17 00:00:00 +0000 UTC'>March 17, 2021</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;17 words&nbsp;·&nbsp;Saqib Razzaq</footer><a class=entry-link aria-label="post link to How to create model, controller and migration in same command" href=https://examplesite.com/posts/create-model-controller-and-migration-in-same-command/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>How to fix key is too long error in Laravel</h2></header><div class=entry-content><p>If you are using sublime text run: Ctrl + P: AppServiceProvider.php
Then at start of file paste use Illuminate\Support\Facades\Schema;
Paste following code in boot() function Schema::defaultStringLength(191);</p></div><footer class=entry-footer><span title='2021-03-17 00:00:00 +0000 UTC'>March 17, 2021</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;26 words&nbsp;·&nbsp;Saqib Razzaq</footer><a class=entry-link aria-label="post link to How to fix key is too long error in Laravel" href=https://examplesite.com/posts/fix-key-is-too-long-error-in-laravel/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>How to migrate and seed with same command</h2></header><div class=entry-content><p>You can run the migrations and seeders in the same line like this
php artisan migrate:fresh --seed</p></div><footer class=entry-footer><span title='2021-03-17 00:00:00 +0000 UTC'>March 17, 2021</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;17 words&nbsp;·&nbsp;Saqib Razzaq</footer><a class=entry-link aria-label="post link to How to migrate and seed with same command" href=https://examplesite.com/posts/migrate-and-seed-with-same-command/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>How to use Refresh database in Laravel PHPUnit Tests</h2></header><div class=entry-content><p>A Laravel project ideally has many tests depending on the size of the project. We don’t want one test’s results to impact others. This is where RefreshDatabase trait comes in handy. It resets database after each test to make sure you get the clean slate for your next test. You can use it like this.
First, paste this at top of your test file use Illuminate\Foundation\Testing\RefreshDatabase;
Then right after opening { of your test class, paste following use RefreshDatabase;
...</p></div><footer class=entry-footer><span title='2021-03-17 00:00:00 +0000 UTC'>March 17, 2021</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;79 words&nbsp;·&nbsp;Saqib Razzaq</footer><a class=entry-link aria-label="post link to How to use Refresh database in Laravel PHPUnit Tests" href=https://examplesite.com/posts/use-refresh-database-in-laravel-phpunit-tests/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>PHP - Autoload classes</h2></header><div class=entry-content><p>Here is a quick snippet that showed how classes are loaded in BriskLimbs, a video sharing project of mine
spl_autoload_register(function ($class) { $class = ucfirst($class); if (file_exists(MODEL_DIRECTORY . '/' . $class . '.php')) { require_once MODEL_DIRECTORY . '/' . $class . '.php'; } else { $class = strtolower($class); if (file_exists(HELPERS_DIRECTORY . '/' . $class . '.php')) { require_once HELPERS_DIRECTORY . '/' . $class . '.php'; } else { exit(MODEL_DIRECTORY . '/' . $class . '.php'); exit('Error Loading Class File |' . $class . '| core:' . CORE_DIRECTORY); } } });</p></div><footer class=entry-footer><span title='2021-02-21 00:00:00 +0000 UTC'>February 21, 2021</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;90 words&nbsp;·&nbsp;Saqib Razzaq</footer><a class=entry-link aria-label="post link to PHP - Autoload classes" href=https://examplesite.com/posts/php-autoload-classes/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>How to use validator and get all errors in Laravel</h2></header><div class=entry-content><p>Laravel has a validated function which runs your defined rules and automatically sends errors to your view. This is awesome for most projects but sometimes you may want to handle / read these errors yourself. Or maybe just do it before sending them to view. Here is how you can do that.
First of all, add validator at top of your file
use Illuminate\Support\Facades\Validator; Then create validator with your rules like this $validator = Validator::make($requestData, [ 'user_id' => ['required', 'integer'] ]); Then use following snippet to get errors as array if ($validator->fails()) { $fieldsWithErrors = $validator->messages()->get('*'); // do anything here }</p></div><footer class=entry-footer><span title='2021-02-11 00:00:00 +0000 UTC'>February 11, 2021</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;101 words&nbsp;·&nbsp;Saqib Razzaq</footer><a class=entry-link aria-label="post link to How to use validator and get all errors in Laravel" href=https://examplesite.com/posts/use-validator-and-get-all-errors-in-laravel/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>How to run a command on multiple MySQL tables using PHP</h2></header><div class=entry-content><p>$query = "alter table {table} drop column columnName;"; $tables = array('tableA', 'tableB'); foreach ($tables as $key => $source) { $currentQuery = str_replace('{table}', $source, $query); DB::query($currentQuery); }</p></div><footer class=entry-footer><span title='2020-11-23 00:00:00 +0000 UTC'>November 23, 2020</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;26 words&nbsp;·&nbsp;Saqib Razzaq</footer><a class=entry-link aria-label="post link to How to run a command on multiple MySQL tables using PHP" href=https://examplesite.com/posts/run-a-command-on-multiple-mysql-tables-using-php/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>How to rotate all videos in directory using Ffmpeg</h2></header><div class=entry-content><p>if (!$argv['1']) { exit("php rotate_360.php input_dir output_dir degress_to_rot"); } print_r($argv); $input_dir = $argv['1']; $output_dir = $argv['2']; if (!file_exists($output_dir)) { @mkdir($output_dir); } $degress = !empty($argv['3']) ? $argv['3'] : 360; $files = glob("{$input_dir}/*.mp4"); foreach ($files as $key => $file) { $filename = pathinfo($file, PATHINFO_FILENAME); // outputs nameonly $command = "ffmpeg -i {$input_dir}/{$filename}.mp4 -c copy -metadata:s:v:0 rotate={$degress} {$output_dir}/{$filename}-out.mp4"; echo $command . "\n"; shell_exec($command); }</p></div><footer class=entry-footer><span title='2020-04-19 00:00:00 +0000 UTC'>April 19, 2020</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;61 words&nbsp;·&nbsp;Saqib Razzaq</footer><a class=entry-link aria-label="post link to How to rotate all videos in directory using Ffmpeg" href=https://examplesite.com/posts/rotate-all-videos-in-a-directory-using-ffmpeg/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>How to send an email with attatchments in Mailgun PHP</h2></header><div class=entry-content><p>require 'vendor/autoload.php'; use Mailgun\Mailgun; function sendMail($params) { $from = isset($params['from']) ? $params['from'] : 'default@from.com'; $mailParams = array(); $attachments = array(); $mailParams['from'] = $params['sender_name'] . " &lt;$from>"; $mailParams['to'] = $params['to']; #$m->setFrom($params['sender_name' ] . " &lt;$from>"); if (isset($params['attachment'])) { $attachments[] = array('filePath' => $params['attachment']['path'], 'filename' => $params['attachment']['name']); } if (isset($params['custom_attachment'])) { foreach ($params['custom_attachment'] as $key => $file) { $attachments[] = array('filePath' => $file['path'], 'filename' => $file['name']); } } if (isset($params['replyTo'])) { if (is_array($params['replyTo'])) { foreach ($params['replyTo'] as $key => $email) { $mailParams['h:Reply-To'][] = $email; } } else { $mailParams['h:Reply-To'] = $params['replyTo']; } } $mailParams['subject'] = $params['subject']; $isHtml = $params['message'] != strip_tags($params['message']); if ($isHtml) { $mailParams['html'] = $params['message']; } else { $mailParams['text'] = $params['message']; } if (!empty($attachments)) { $mailParams['attachment'] = $attachments; } $mg = Mailgun::create('api_key_here'); $status = $mg->messages()->send('mail.collectiveproperties.net', $mailParams); return $status; }// sending email $params = array(); $params['to'] = 'frank@court.com'; $params['from'] = 'wilson@prison.com'; $params['sender_name'] = 'Frank Castle'; $params['subject'] = 'IM COMING FOR YA'; $params['message'] = 'One batch! Two batch! Penny & dime!'; $params['replyTo'] = 'matt@nelsonandmurdock.com'; $params['attachment'] = array('path' => 'test.jpg', 'name' => 'test.jpg'); sendMail($params);</p></div><footer class=entry-footer><span title='2020-03-17 00:00:00 +0000 UTC'>March 17, 2020</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;171 words&nbsp;·&nbsp;Saqib Razzaq</footer><a class=entry-link aria-label="post link to How to send an email with attatchments in Mailgun PHP" href=https://examplesite.com/posts/send-an-email-using-mailgun-with-attatchments-in-php/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>How to use proxies with CURL in PHP</h2></header><div class=entry-content><p>If you are dealing with requesting images or data from other websites and you are getting blocked, you must start using proxies. Here are the fields that you can start sending with CURL
curl_setopt($ch, CURLOPT_PROXY, $proxy); curl_setopt($ch, CURLOPT_PROXYPORT, $port); // if your proxy service requires authentication $autentication = 'user:pass'; curl_setopt($ch, CURLOPT_PROXYUSERPWD, $autentication); curl_setopt($ch, CURLOPT_PROXYTYPE, 'HTTP'); curl_setopt($ch, CURLOPT_HTTPPROXYTUNNEL, 1);</p></div><footer class=entry-footer><span title='2019-07-17 00:00:00 +0000 UTC'>July 17, 2019</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;58 words&nbsp;·&nbsp;Saqib Razzaq</footer><a class=entry-link aria-label="post link to How to use proxies with CURL in PHP" href=https://examplesite.com/posts/use-proxies-with-curl-in-php/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Markdown Syntax Guide</h2></header><div class=entry-content><p>This article offers a sample of basic Markdown syntax that can be used in Hugo content files, also it shows whether basic HTML elements are decorated with CSS in a Hugo theme.
...</p></div><footer class=entry-footer><span title='2019-03-11 00:00:00 +0000 UTC'>March 11, 2019</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;446 words&nbsp;·&nbsp;Hugo Authors</footer><a class=entry-link aria-label="post link to Markdown Syntax Guide" href=https://examplesite.com/posts/markdown-syntax/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>How to read a CSV file in PHP</h2></header><div class=entry-content><p>&lt;?php $file = 'data.csv'; $separator = "\t"; $done = 0; if (($handle = fopen($file, "r")) !== FALSE) { while (($data = fgetcsv($handle, false, "$separator")) !== FALSE) { $done += 1; if ($done &lt; 2) { $fields = explode($separator, str_replace(' ', '', implode($separator, $data))); continue; } $item = array_combine($fields, $data); print_r($item); } }</p></div><footer class=entry-footer><span title='2019-01-27 00:00:00 +0000 UTC'>January 27, 2019</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;52 words&nbsp;·&nbsp;Saqib Razzaq</footer><a class=entry-link aria-label="post link to How to read a CSV file in PHP" href=https://examplesite.com/posts/read-csv-file-in-php/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>PHP: Get random string</h2></header><div class=entry-content><p>function randomString($length = 10) { $characters = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ'; $charactersLength = strlen($characters); $randomString = ''; for ($i = 0; $i &lt; $length; $i++) { $randomString .= $characters[rand(0, $charactersLength - 1)]; } return $randomString; }</p></div><footer class=entry-footer><span title='2018-08-01 00:00:00 +0000 UTC'>August 1, 2018</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;33 words&nbsp;·&nbsp;Saqib Razzaq</footer><a class=entry-link aria-label="post link to PHP: Get random string" href=https://examplesite.com/posts/php-get-random-string/></a></article></main><footer class=footer><span>&copy; 2025 <a href=https://examplesite.com/>TIL by Sakydev</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>